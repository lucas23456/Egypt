<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/styles/style.css">
  <title>VR online Gallery - PortalVR</title>
</head>
<body>

  <h3 class="txt">ДО ОТКРЫТИЕ ГАЛЕРЕЕ</h3>

<section class="timer">
  <h2 id="days"></h2>
  <h2 id="hours"></h2>
  <h2 id="mins"></h2>
  <h2 id="secs"></h2>
  <h2 id="end"></h2>
</section>


<button id="signOutBtn" class="btn btn-primary">Sign Out</button>

<!-- <a href="/redirect.html"><button id="end">Поехали!</button></a> -->

</body>

<script src="/scripts/timer.js"></script>
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.8.2/firebase-app.js";
  import { GoogleAuthProvider,getAuth,signInWithRedirect,getRedirectResult } from "https://www.gstatic.com/firebasejs/9.8.2/firebase-auth.js";

  const firebaseConfig = {
    apiKey: "AIzaSyCtccSY2VP03IIavb1yDMsUAlUBGjFSh2A",
    authDomain: "meta-auth-50015.firebaseapp.com",
    databaseURL: "https://meta-auth-50015-default-rtdb.firebaseio.com",
    projectId: "meta-auth-50015",
    storageBucket: "meta-auth-50015.appspot.com",
    messagingSenderId: "216648953195",
    appId: "1:216648953195:web:0a02be9e5073fe3fe2702e"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);
  const user = auth.currentUser;
  const provider = new GoogleAuthProvider(app);

  signOutBtn.onclick = () => auth.signOut();

  auth.onAuthStateChanged(user => {
    if (user) {
      userdetail.innerHTML = `<h3>Ватсап, ${user.displayName}!</h3>`;
    } else {
      window.location.replace("/");
    }
});

</script>
</html>
